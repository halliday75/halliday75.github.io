<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Time Tracker</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div id="app">
    <header class="main-header">
      <div class="header-title">Time Tracker</div>
      <div class="header-actions">
        <button id="toggleLayoutBtn" data-tooltip="Switch to List View">List</button>
        <button id="toggleViewBtn" data-tooltip="Toggle History View">History</button>
        <a href="https://smartling.harvestapp.com/time" target="_blank" rel="noopener" data-tooltip="Open Harvest Timer" id="openHarvestBtn">Harvest</a>
      </div>
    </header>
    <div id="totalTimeDisplay">
      Total Time: <span id="totalTimeValue"></span>
    </div>

    <button class="add-btn" id="mainAdd" data-tooltip="Add new stopwatch">+</button>

    <div class="container" id="container"></div>

    <div id="historyContainer" style="display:none;">
      <h2>Finished Timers History</h2>
      <div id="exportButtons">
        <button id="exportCsvBtn" data-tooltip="Export to CSV">Export to CSV</button>
        <button id="copyAllBtn" data-tooltip="Copy all to clipboard">Copy All</button>
      </div>
      <table id="historyTable" aria-label="Finished timers history">
        <thead>
          <tr>
            <th>Label</th>
            <th>Total Time</th>
            <th>Date Finished</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
  </div>

  <!-- CREATE / DELETE Confirmation Modal -->
  <div class="modal-overlay" id="modalOverlay" style="display: none;">
    <div class="modal" id="createModal">
      <h3>New Stopwatch</h3>
      <input type="text" id="labelInput" placeholder="Enter label..." />
      <div>
        <button class="confirm" id="confirmAdd">Add</button>
        <button class="cancel" id="cancelAdd">Cancel</button>
      </div>
    </div>
    <div class="modal" id="deleteModal" style="display:none;">
      <h3>Delete Stopwatch?</h3>
      <p>Are you sure you want to delete this stopwatch?</p>
      <div>
        <button class="confirm" id="confirmDelete">Delete</button>
        <button class="cancel" id="cancelDelete">Cancel</button>
      </div>
    </div>
    <div class="modal" id="deleteHistoryModal" style="display:none;">
      <h3>Delete History Entry?</h3>
      <p>Are you sure you want to delete this entry from your history?</p>
      <div>
        <button class="confirm" id="confirmHistoryDelete">Delete</button>
        <button class="cancel" id="cancelHistoryDelete">Cancel</button>
      </div>
    </div>
  </div>
  <script src="utils.js"></script>
  <script src="storage.js"></script>
  <script src="stopwatch.js"></script>
  <script src="history.js"></script>
  <script src="ui.js"></script>
  <script src="keyboard.js"></script>
  <script src="dragdrop.js"></script>
  <script src="modal.js"></script>
  <script src="app.js"></script>
</body>
</html>